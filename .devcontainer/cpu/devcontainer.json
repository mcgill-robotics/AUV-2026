{
    "name": "AUV Dev (CPU)",
    "dockerComposeFile": "../../Docker/dev/docker-compose.yml",
    "service": "cpu",
    "runServices": ["cpu"],

    // Use /home/ros instead of /root to follow standard Linux permissions
    "workspaceFolder": "/home/ros/AUV-2026",
    "remoteUser": "ros",
    
    // This is vital for connecting to Unity on Windows/Mac
    // It maps localhost:10000 (Container) -> localhost:10000 (Host)
    // "forwardPorts": [10000],

    // Everything else (Env, Mounts, Privileged) is now inherited 
    // from docker-compose.yml, so we don't repeat it here.

    "customizations": {
        "vscode": {
            "extensions": [
                "althack.ament-task-provider",
                "betwo.b2-catkin-tools",
                "DotJoshJohnson.xml",
                "ms-azuretools.vscode-docker",
                "ms-iot.vscode-ros",
                "ms-python.python",
                "ms-vscode.cpptools",
                "redhat.vscode-yaml",
                "smilerobotics.urdf",
                "streetsidesoftware.code-spell-checker",
                "twxs.cmake",
                "yzhang.markdown-all-in-one",
                "zachflower.uncrustify"
            ]
        }
    },
    "mounts": [
        {
            "type": "bind",
            "source": "${localWorkspaceFolder}",
            "target": "/home/ros/AUV-2026"
        }
    ],

    "postCreateCommand": "sudo chown -R ros:ros /home/ros/AUV-2026",
    "forwardPorts": [10000]
}
